---
title: Data Visualization with R
output: beamer_presentation
---

## Agenda

<hr>

- understand grammar of graphics
- understand geoms
- explore aesthetics to modify geoms
- use facets for sub plots
- change coordinate system

## Libraries

<hr>

```{r libs, echo=TRUE, eval=TRUE, results='hide', message=FALSE}
library(ggplot2)
library(readr)
library(descriptr)
```

## Coordinate System

<hr>

```{r gg1, fig.align='center', fig.width=4, fig.height=3}
ggplot()
```

## Data Set

<hr>

```{r gg2, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz)
```

## Geoms

<hr>

```{r gg3, fig.align='center', fig.height=3, fig.width=4}
ggplot(data = mtcarz) + 
  geom_point(mapping = aes(x = disp, y = mpg))
```

## Geoms

<hr>

```{r gg4, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_histogram(mapping = aes(x = mpg))
```

## Geoms

<hr>

```{r gg5, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_boxplot(mapping = aes(x = cyl, y = mpg))
```

## Geoms

<hr>

```{r gg6, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_bar(mapping = aes(x = cyl))
```

## Map Color

<hr>

```{r gg7, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) + 
  geom_point(aes(x = disp, y = mpg, color = cyl))
```

## Map Shape

<hr>

```{r gg8, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) + 
  geom_point(aes(x = disp, y = mpg, shape = gear))
```

## Map Size

<hr>

```{r gg9, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) + 
  geom_point(aes(x = disp, y = mpg, size = wt))
```

<hr>

## Color = blue

<hr>

```{r gg10, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) + 
  geom_point(aes(x = disp, y = mpg), color = "blue")
```

## Shape = 3

<hr>

```{r gg11, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) + 
  geom_point(aes(x = disp, y = mpg), shape = 3)
```

## Size = 2

<hr>

```{r gg12, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) + 
  geom_point(aes(x = disp, y = mpg), size = 2)
```

## Bar chart

<hr>

```{r gg13, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  stat_count(mapping = aes(x = cyl))
```

## Position

<hr>

```{r gg14, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_bar(mapping = aes(x = cyl, fill = gear))
```

## Position

<hr>

```{r gg15, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_bar(mapping = aes(x = cyl, fill = gear), 
    position = "dodge")
```

## Flip Coordinates

<hr>

```{r gg16, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_bar(mapping = aes(x = cyl, fill = gear)) +
  coord_flip()
```

## Facets

<hr>

- split the plot into sub plots each of which 
- displays a subset of the data
- examine the relationship between disp and mpg for cyl

## Facets

<hr>

```{r gg17, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_point(mapping = aes(x = disp, y = mpg)) +
  facet_wrap(~ cyl)
```

## Facets

<hr>

```{r gg18, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_point(mapping = aes(x = disp, y = mpg)) +
  facet_grid(gear ~ cyl)
```

## Title, Axis Labels & Limits

<hr>

```{r gg19, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = mtcarz) + 
  geom_point(aes(x = disp, y = mpg), color = "blue") +
  labs(title = "mpg vs disp", x = "Displacement", 
    y = "Miles Per Gallon")
```

## Title

<hr>

```{r gg20, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = mtcarz) + 
  geom_point(aes(x = disp, y = mpg), color = "blue") +
  ggtitle("mpg vs disp") + xlab("Displacement") + 
  ylab("Miles Per Gallon")
```

## Axis Limits

<hr>

```{r gg21, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_point(aes(x = disp, y = mpg), color = "blue") +
  xlim(c(0, 600))
```

## Axis Limits

<hr>

```{r gg22, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_point(aes(x = disp, y = mpg), color = "blue") +
  ylim(c(0, 40))
```

## Axis Limits

<hr>

```{r gg23, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = mtcarz) +
  geom_point(aes(x = disp, y = mpg), color = "blue") +
  expand_limits(x = c(0, 600), y = c(0, 40))
```

## Line Chart: Data

<hr>

```{r gg24, echo=TRUE, message=FALSE}
device <- read_csv("data/users_device.csv",
          col_types = list(col_date(format = "%m/%d/%y"),
          col_integer(), col_integer(), col_integer()))
```

## Line Chart

<hr>

```{r gg25, fig.align='center', fig.width=4, fig.height=3}
ggplot(data = device) +
  geom_line(mapping = aes(x = Date, y = Desktop))
```

## Line Color

<hr>

```{r gg26, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = device) +
  geom_line(mapping = aes(x = Date, y = Desktop), 
    color = "blue")
```

## Line Type

<hr>

```{r gg27, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = device) +
  geom_line(mapping = aes(x = Date, y = Desktop), 
    linetype = 2)
```

## Line Type

<hr>

```{r gg28, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = device) +
  geom_line(mapping = aes(x = Date, y = Desktop), 
    linetype = "dashed")
```

## Line Width

<hr>

```{r gg29, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = device) +
  geom_line(mapping = aes(x = Date, y = Desktop), 
    size = 2)
```

## Multiple Lines

<hr>

```{r gg30, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = device) +
  geom_line(mapping = aes(x = Date, y = Desktop)) +
  geom_line(mapping = aes(x = Date, y = Mobile))
```

## Multiple Lines

<hr>

```{r gg31, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = device) +
  geom_line(mapping = aes(x = Date, y = Desktop)) +
  geom_line(mapping = aes(x = Date, y = Mobile)) +
  geom_line(mapping = aes(x = Date, y = Tablet))
```

## Line Chart: Data

<hr>

```{r gg32, echo=TRUE, message=FALSE}
tidy_device <- read_csv("data/tidy_users.csv",
               col_types = list(col_date(format = "%m/%d/%y"),
               col_character(), col_integer()))
```

## Multiple Lines

<hr>

```{r gg33, fig.align='center', fig.width=3, fig.height=2}
ggplot(data = tidy_device) +
  geom_line(mapping = aes(x = Date, y = Users, 
    group = Device, color = Device))
```

----

![](images/thankyou.png)